<html xmlns:th="http://www.thymeleaf.org">
	
	<title th:fragment="title">List of all the tasks</title>
	
	
	<section th:fragment="content">
	
		<h3 class="my-margin-bottom-28">
			<em>List of all tasks</em>
		</h3>
	
	    <a href="tasks/new" class="btn btn-sm btn-success my-margin-bottom-19">
			<span class="my-margin-right-19">
				<i class="fa fa-plus" aria-hidden="true"></i>
			</span>
			
	    	<span>Create a new task</span>
	    </a>
	
	    <table>
	        <thead>
	            <tr>
	                <th></th>
	                <th>Id</th>
	                <th>Description</th>
	                <th>Status</th>
	                <th>Date of completion</th>
	            </tr>
	        </thead>
	
	        <tbody>
	
                <tr th:each="task : ${tasks}">
                    <td>
                        
                        <!-- Show task -->
                        <a th:href="@{/tasks/{id}(id=${task.id})}" class="btn btn-sm btn-light" 
                           data-toggle="tooltip" title="Show task" data-placement="bottom">
                            <i class="far fa-eye" aria-hidden="true"></i>
                        </a>
                        
                        
                        <button
                        	th:unless="${task.complete}"
                        	th:value="${task.id}"
                            type="button"
                            class="btn btn-sm btn-success my-task-to-complete" 
                            data-toggle="tooltip" 
                            title="Complete task" 
                            data-placement="bottom"
                        >
                            <i class="far fa-check-square" aria-hidden="true"></i>
                        </button>
                        
                        <a th:href="@{/tasks/{id}/edit(id=${task.id})}" class="btn btn-sm btn-primary" 
                           data-toggle="tooltip" title="Edit task" data-placement="bottom">
                            <i class="far fa-edit" aria-hidden="true"></i>
                        </a>
                           
                           
                        <!--    DELETING WITH AJAX   -->

                        <button
                        	type="button"
                            class="btn btn-sm btn-danger my-task-to-delete" 
                            th:value="${task.id}"
                            data-toggle="tooltip" 
                            title="Delete task" 
                            data-placement="bottom"
                        >
                            
                        	<i class="far fa-trash-alt" aria-hidden="true"></i>
                        
                        </button>

                    </td>
                    
                    <td th:text="${task.id}"></td>
                    <td th:text="${task.description}"></td>
                    <td th:id="'status-of-task-' + ${task.id}" th:text="${task.complete ? 'Complete' : 'To be done'}"></td>

                    <td id="date-of-achievement-for-task-${task.id}">
                    </td>
                </tr>
	
	        </tbody>
	    </table>    
    
	</section>
	
</html>